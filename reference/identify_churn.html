<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Identify employees who have churned from the dataset — identify_churn • vivainsights</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Identify employees who have churned from the dataset — identify_churn"><meta name="description" content="This function identifies and counts the number of employees who have churned
from the dataset by measuring whether an employee who is present in the first
n (n1) weeks of the data is present in the last n (n2) weeks of the data."><meta property="og:description" content="This function identifies and counts the number of employees who have churned
from the dataset by measuring whether an employee who is present in the first
n (n1) weeks of the data is present in the last n (n2) weeks of the data."><meta property="og:image" content="https://microsoft.github.io/vivainsights/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vivainsights</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-analyst-guide" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Analyst Guide</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-analyst-guide"><li><a class="dropdown-item" href="../analyst_guide_intro.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../analyst_guide_getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../analyst_guide_data_validation.html">Data Validation</a></li>
    <li><a class="dropdown-item" href="../analyst_guide_reports.html">Reports</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/best-practices.html">Best Practices when using vivainsights</a></li>
    <li><a class="dropdown-item" href="../articles/network-analysis.html">Introduction to Organizational Network Analysis with vivainsights in R</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/microsoft/vivainsights/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Identify employees who have churned from the dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/microsoft/vivainsights/blob/v0.5.5/R/identify_churn.R" class="external-link"><code>R/identify_churn.R</code></a></small>
      <div class="d-none name"><code>identify_churn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function identifies and counts the number of employees who have churned
from the dataset by measuring whether an employee who is present in the first
<code>n</code> (n1) weeks of the data is present in the last <code>n</code> (n2) weeks of the data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">identify_churn</span><span class="op">(</span><span class="va">data</span>, n1 <span class="op">=</span> <span class="fl">6</span>, n2 <span class="op">=</span> <span class="fl">6</span>, return <span class="op">=</span> <span class="st">"message"</span>, flip <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A Person Query as a data frame. Must contain a <code>PersonId</code>.</p></dd>


<dt id="arg-n-">n1<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>A numeric value specifying the number of weeks at the beginning of
the period that defines the measured employee set. Defaults to 6.</p></dd>


<dt id="arg-n-">n2<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>A numeric value specifying the number of weeks at the end of the
period to calculate whether employees have churned from the data. Defaults
to 6.</p></dd>


<dt id="arg-return">return<a class="anchor" aria-label="anchor" href="#arg-return"></a></dt>
<dd><p>String specifying what to return. This must be one of the
following strings:</p><ul><li><p><code>"message"</code> (default)</p></li>
<li><p><code>"text"</code></p></li>
<li><p><code>"data"</code></p></li>
</ul><p>See <code>Value</code> for more information.</p></dd>


<dt id="arg-flip">flip<a class="anchor" aria-label="anchor" href="#arg-flip"></a></dt>
<dd><p>Logical, defaults to FALSE. This determines whether to reverse
the logic of identifying the non-overlapping set. If set to <code>TRUE</code>, this
effectively identifies new-joiners, or those who were not present in the
first n weeks of the data but were present in the final n weeks.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A different output is returned depending on the value passed to the <code>return</code>
argument:</p><ul><li><p><code>"message"</code>: Message on console. A diagnostic message.</p></li>
<li><p><code>"text"</code>: String. A diagnostic message.</p></li>
<li><p><code>"data"</code>: Character vector containing the the <code>PersonId</code> of
employees who have been identified as churned.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>An additional use case of this function is the ability to identify
"new-joiners" by using the argument <code>flip</code>.</p>
<p>If an employee is present in the first <code>n</code> weeks of the data but not present
in the last <code>n</code> weeks of the data, the function considers the employee as
churned. As the measurement period is defined by the number of weeks from the
start and the end of the passed data frame, you may consider filtering the
dates accordingly before running this function.</p>
<p>Another assumption that is in place is that any employee whose <code>PersonId</code> is
not available in the data has churned. Note that there may be other reasons
why an employee's <code>PersonId</code> may not be present, e.g. maternity/paternity
leave, Viva Insights license has been removed, shift to a
low-collaboration role (to the extent that he/she becomes inactive).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Data Validation:
<code><a href="check_query.html">check_query</a>()</code>,
<code><a href="extract_hr.html">extract_hr</a>()</code>,
<code><a href="flag_ch_ratio.html">flag_ch_ratio</a>()</code>,
<code><a href="flag_em_ratio.html">flag_em_ratio</a>()</code>,
<code><a href="flag_extreme.html">flag_extreme</a>()</code>,
<code><a href="flag_outlooktime.html">flag_outlooktime</a>()</code>,
<code><a href="hr_trend.html">hr_trend</a>()</code>,
<code><a href="hrvar_count.html">hrvar_count</a>()</code>,
<code><a href="hrvar_count_all.html">hrvar_count_all</a>()</code>,
<code><a href="hrvar_trend.html">hrvar_trend</a>()</code>,
<code><a href="identify_holidayweeks.html">identify_holidayweeks</a>()</code>,
<code><a href="identify_inactiveweeks.html">identify_inactiveweeks</a>()</code>,
<code><a href="identify_nkw.html">identify_nkw</a>()</code>,
<code><a href="identify_outlier.html">identify_outlier</a>()</code>,
<code><a href="identify_privacythreshold.html">identify_privacythreshold</a>()</code>,
<code><a href="identify_shifts.html">identify_shifts</a>()</code>,
<code><a href="identify_tenure.html">identify_tenure</a>()</code>,
<code><a href="track_HR_change.html">track_HR_change</a>()</code>,
<code><a href="validation_report.html">validation_report</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pq_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">identify_churn</span><span class="op">(</span>n1 <span class="op">=</span> <span class="fl">3</span>, n2 <span class="op">=</span> <span class="fl">3</span>, return <span class="op">=</span> <span class="st">"message"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Churn:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There are 0 employees from 2022-05-01 to 2022-05-15 (3 weeks) who are no longer present in 2022-06-19 to 2022-07-03 (3 weeks).</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Chan, Carlos Morales.</p>
</div>

<div class="pkgdown-footer-right">
  <p>NULL Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>


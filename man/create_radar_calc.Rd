% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_radar.R
\name{create_radar_calc}
\alias{create_radar_calc}
\title{create_radar_calc}
\usage{
create_radar_calc(
  data,
  metrics,
  segment_col = "UsageSegments_12w",
  person_id_col = "PersonId",
  mingroup = 5,
  agg = c("mean", "median"),
  index_mode = c("total", "none", "ref_group", "minmax"),
  index_ref_group = NULL,
  dropna = TRUE
)
}
\arguments{
\item{data}{data.frame with metrics, segment_col, person_id_col}

\item{metrics}{character vector of numeric metric column names}

\item{segment_col}{segment label column}

\item{person_id_col}{unique person identifier column}

\item{mingroup}{minimum unique people per segment to retain}

\item{agg}{"mean" or "median"}

\item{index_mode}{one of "total","none","ref_group","minmax"}

\item{index_ref_group}{required if index_mode == "ref_group"}

\item{dropna}{drop NAs in required columns before aggregation}
}
\value{
list(table = segment_level_indexed, ref = reference used)
}
\description{
Compute segment-level metric values and (optionally) index them for radar plotting.
Pipeline:
\enumerate{
\item person-level aggregation within segment (mean/median)
\item segment-level aggregation across people
\item enforce minimum group size
\item apply indexing mode
}
}

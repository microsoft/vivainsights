% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_survival.R
\name{create_survival_calc}
\alias{create_survival_calc}
\title{Compute 'Kaplan-Meier survival curves per group}
\usage{
create_survival_calc(
  data,
  time_col,
  event_col,
  group_col = "UsageSegments_12w",
  id_col = "PersonId",
  mingroup = 5,
  timeline = NULL,
  dropna = TRUE,
  use_survival = TRUE
)
}
\arguments{
\item{data}{Data frame containing time, event and optional group columns.}

\item{time_col}{Character. Name of the time-to-event column.}

\item{event_col}{Character. Name of the event indicator column (1=event, 0=censored).}

\item{group_col}{Character or NULL. Group/segment column name (default: "UsageSegments_12w").}

\item{id_col}{Character. Person identifier column for distinct counts (default: "PersonId").}

\item{mingroup}{Integer. Minimum unique people required to keep a group (default: 5).}

\item{timeline}{Numeric or NULL. Time points where survival is evaluated (default uses unique times).}

\item{dropna}{Logical. Drop rows with NA in time/event when TRUE (default TRUE).}

\item{use_survival}{Logical. Reserved for future use; currently ignored in this implementation.}
}
\value{
A list with elements \code{survival_long} (data.frame) and \code{counts} (data.frame).
}
\description{
Compute 'Kaplan-Meier survival curves for one or more groups (segments).
Returns a list with a long-format survival table (group, time, survival, at_risk, events)
and a counts table used for applying minimum-group filters.
}
